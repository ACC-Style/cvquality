/**
* Accordion collapse their content by a header bar. Vanilla accordion just has a plain headline with no indicators. Most of the time adding the class  `.basic` will make UI conform to expected user's experience.
* @structure Accordion
* @section Advanced Containers > Accordion
* @modifiers 
*  .fancy          used on toolkits the design is bigger and graphic
*  .basic          gives a little bit of animation and wiggle, and ads the chevron indicator if it is open or closed.
*  .simple         removes all of the container decoration and converts the header into a more link.
* @markup
*  <div class="panel-group accordion">
*   <div class="panel" id="accordion" role="tablist" aria-multiselectable="true">
*       <div class="panel-heading" role="tab" id="headingOne">
*         <h4 class="panel-title">
*           <a role="button" data-toggle="collapse" data-parent="#accordion" href="#accordion2" aria-expanded="true" aria-controls="accordion2" class="collapsed">
*             <span class="text">Collapsible Group Item #1</span>
*           </a>
*         </h4>
*       </div>
*       <div id="accordion2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne" aria-expanded="true">
*         <div class="panel-body">
*           <p>@{lipsum:5:sentence}</p>
*           <ul class="no-bullets">    
*             <li style="page-break-inside: avoid">
*                 <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*             </li>
*             <li style="page-break-inside: avoid">
*                 <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*             </li>
*             <li style="page-break-inside: avoid">
*                 <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*             </li>
*           </ul>
*         </div>
*       </div>
*   </div>
*  </div>
*
*/
.accordion{
    margin-bottom:1rem;
    .panel-heading{
        background-color: $soft-grey;
        border:$warm-grey-light 1px solid;
        border-bottom: $scrub-teal-light 2px solid;
        padding:0;
        &:hover{
            background-color:$soft-blue;
            border: $scrub-teal-light 1px solid;
            border-bottom: $scrub-teal 2px solid;
        }
        .panel-title{
            a{ text-decoration:none;}
            &:hover, a:hover{
                color:$off-black;
                text-decoration:none;
            }
        }
    }
    .panel-title a{
            padding: 10px 15px;
            display: block;
            width:100%;
    }
    .panel-title a:after{ 
        @extend .icon-after;
    }
    .panel-title a:before{
        @extend .icon-before;
    }
    +.accordion{margin-top:-1rem;
        .panel-heading {
            border-top-right-radius: 0;
            border-top-left-radius: 0;
            
        }
    }
    .accordion{
        .panel-title{ font-size:ms(0);}
        .panel-title a{
            padding:5px 15px;
        }
    }
}
/**
* Collapse page content with the header. Adding `.basic` will give a chevron and a little bit of wiggle. You can also nest accordians and they will style a bit smaller.
*
* @structure Accordion (Basic with a little bit of wiggle)
* @section Advanced Containers > Accordion
* @markup
*  <div class="panel-group accordion basic">
*   <div class="panel" id="accordion-wiggle" role="tablist" aria-multiselectable="true">
*       <div class="panel-heading" role="tab" id="headingOne">
*         <h4 class="panel-title">
*           <a role="button" data-toggle="collapse" data-parent="#accordion-wiggle" href="#accordion-wiggle-inside" aria-expanded="true" aria-controls="accordion-wiggle-inside" class="collapsed">
*             <span class="text">Collapsible Group Item #1</span>
*           </a>
*         </h4>
*       </div>
*       <div id="accordion-wiggle-inside" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne" aria-expanded="true">
*         <div class="panel-body">
*           <p>@{lipsum:5:sentence}</p>
*           <ul class="no-bullets">    
*             <li style="page-break-inside: avoid">
*                 <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*             </li>
*             <li style="page-break-inside: avoid">
*                 <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*             </li>
*             <li style="page-break-inside: avoid">
*                 <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*             </li>
*           </ul>
*           <div class="panel-group accordion basic">
*            <div class="panel" id="accordion-accordion" role="tablist" aria-multiselectable="true">
*                <div class="panel-heading" role="tab" id="headingOne">
*                  <h4 class="panel-title">
*                    <a role="button" data-toggle="collapse" data-parent="#accordion-accordion" href="#accordionbasicinside" aria-expanded="true" aria-controls="accordionbasicinside" class="collapsed">
*                      <span class="text">Collapsible Group Item #1</span>
*                    </a>
*                  </h4>
*                </div>
*                <div id="accordionbasicinside" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne" aria-expanded="true">
*                  <div class="panel-body">
*                    <p>@{lipsum:5:sentence}</p>
*                    <ul class="no-bullets">    
*                      <li style="page-break-inside: avoid">
*                          <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*                      </li>
*                      <li style="page-break-inside: avoid">
*                          <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*                      </li>
*                      <li style="page-break-inside: avoid">
*                          <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*                      </li>
*                    </ul>
*                  </div>
*                </div>
*            </div>
*           </div>
*         </div>
*       </div>
*   </div>
*  </div>
*
*/
.accordion.basic{
    .panel-title a:before{
        content: "\f078";
    }
    .panel-title a.collapsed:before{
        content: "\f054";
    }
    .panel-title{
        &:hover a:before{
            animation: wiggle .75s ease-in 2;
            -webkit-animation: wiggle .75s ease-in 2;
            -moz-animation: wiggle 0.75s ease-in 2;
        }
    } 
    .accordion{
        .panel-title a:before{
            content: "\f0d7";
        }
        .panel-title a.collapsed:before{
            content: "\f0da";
        }
    }

}
@keyframes wiggle {
    0% {
        transform: rotate(0deg);
        -moz-transform: rotate(0deg);
        -webkit-transform: rotate(0deg);
    }
    30% {
        transform: rotate(15deg);
        -moz-transform: rotate(15deg);
        -webkit-transform: rotate(15deg);
    }
    50% {
        transform: rotate(-15deg);
        -moz-transform: rotate(-15deg);
        -webkit-transform: rotate(-15deg);
    }
    70% {
        transform: rotate(15deg);
        -moz-transform: rotate(15deg);
        -webkit-transform: rotate(15deg);
    }
    100% {
        transform: rotate(0deg);
        -moz-transform: rotate(0deg);
        -webkit-transform: rotate(0deg);
    }
}
@keyframes wiggle-colapsed {
     0% {
        transform: rotate(0deg);
        -moz-transform: rotate(0deg);
        -webkit-transform: rotate(0deg);
    }
    30% {
        transform: rotate(-105deg);
        -moz-transform: rotate(-105deg);
        -webkit-transform: rotate(-105deg);
    }
    50% {
        transform: rotate(-75deg);
        -moz-transform: rotate(-75deg);
        -webkit-transform: rotate(-75deg);
    }
    70% {
        transform: rotate(-105deg);
        -moz-transform: rotate(-105deg);
        -webkit-transform: rotate(-105deg);
    }
    100% {
        transform: rotate(0deg);
        -moz-transform: rotate(0deg);
        -webkit-transform: rotate(0deg);
    }
}
/**
* Collapse can also be used for small pieces of content when you want someone to do more.
*
* @structure Accordion (simple the more link)
* @section Advanced Containers > Accordion
* @modifiers
*  .left-align       The "More" text will align to the left of the container it is in. This is the default for the simple accordion.
*  .right-align      The "More" text will align to the right.
*  .center-align     The "More" text will align with the center.
* @markup
*  <div class="panel-group accordion simple">
*   <div class="panel" id="accordion" role="tablist" aria-multiselectable="true">
*       <div class="panel-heading" role="tab" id="headingOne">
*         <h4 class="panel-title">
*           <a role="button" data-toggle="collapse" data-parent="#accordion" href="#accordionsimple" aria-expanded="true" aria-controls="accordionsimple" class="collapsed">
*             <span class="text">Find Out</span>
*           </a>
*         </h4>
*       </div>
*       <div id="accordionsimple" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne" aria-expanded="true">
*         <div class="panel-body">
*           <p>@{lipsum:3:sentences}.</p>
*         </div>
*       </div>
*   </div>
*  </div>
*
*/
.accordion.simple{
    .panel{
        border-radius:0px;
        -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0);
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0);

    }
    .panel-heading,.panel-body{
        background:none;
        border:none;

    }
    .panel-body{}
    .panel-heading + .panel-collapse > .panel-body, .panel-heading + .panel-collapse > .list-group{border-top:1px solid rgba($scrub-teal-light,.25);}
    .panel-title a{padding:.125em 0;}
    .panel-title a:before{
        // fa-minus-square-o
        content: "\f147";
        margin-right:.125
        
    }
    .panel-title:hover a:before{
       content: "\f146";
    }
    .panel-title a.collapsed:before{
        // fa-plus-square-o    
        content: "\f196";
    }
    .panel-title:hover  a.collapsed:before{
       content: "\f0fe";
    }
     .panel-title a .text, .panel-title a:after,.panel-title a:before{
        display:inline-block;
        width:auto;
        font-size: ms(-1);
        color:$scrub-teal-dark;
    }
    .panel-title a .text, .panel-title a:after{
        @include font-display("light");
        text-transform: lowercase;
    }
     .panel-title a:after{
        content:"more...";
    }
    &.left-align .panel-title a{text-align:left;}
    &.center-align .panel-title a{text-align:center;}
    &.right-align .panel-title a{text-align:right;}
}
/**
* Fancy Accordions are used in  the toolkit 
*
* @structure  Accordion (Fancy)
* @section Advanced Containers > Accordion
* @markup  
*   <div class="panel-group fancy accordion" id="fancyaccordion" role="tablist" aria-multiselectable="true">
*     <div class="panel panel-default">
*       <div class="panel-heading" role="tab" id="headingOne">
*         <h3 class="panel-title">
*           <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
*             <span class="text">Collapsible Group Item #1</span>
*           </a>
*         </h3>
*       </div>
*       <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
*         <div class="panel-body">
*               <div class="row">
*                   <div class="col-md-6"><img src="@{image:200:200}" class="toolkit-badge"/></div>
*                   <div class="col-md-6">
*                       <h4>@{lipsum:5:words}</h4>
*                       <ol>
*                           <li style="page-break-inside: avoid">
*                               <a href="#.pdf" class="link" target="_blank">@{lipsum:3:words}</a>
*                           </li>
*                           <li style="page-break-inside: avoid">
*                               <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*                           </li>
*                           <li style="page-break-inside: avoid">
*                               <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*                           </li>
*                       </ol>
*                   </div>
*               </div>
*         </div>
*       </div>
*     </div>
*     <div class="panel panel-default">
*       <div class="panel-heading" role="tab" id="headingTwo">
*         <h3 class="panel-title">
*           <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
*              <span class="text">@{lipsum:1:paragraphs}</span>
*           </a>
*         </h3>
*       </div>
*       <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
*         <div class="panel-body">
*               <div class="row">
*                   <div class="col-md-6">&nbsp;</div>
*                   <div class="col-md-6">
*                       <h4>@{lipsum:5:words}</h4>
*                       <ol>
*                           <li style="page-break-inside: avoid">
*                               <a href="#.pdf" class="link" target="_blank">@{lipsum:3:words}</a>
*                           </li>
*                           <li style="page-break-inside: avoid">
*                               <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*                           </li>
*                           <li style="page-break-inside: avoid">
*                               <a href="#.pdf" class="link" target="_blank">@{lipsum:5:words}</a>
*                           </li>
*                       </ol>
*                   </div>
*               </div>
*         </div>
*       </div>
*     </div>
*   </div>
* 
*/
.accordion.fancy {
    border-radius: 8px;
    padding: 5px;
    border: 1px solid $warm-grey-light;
    counter-reset:item;

    .panel {
        counter-increment: item;
        counter-reset: subitem;
        ol li{ 
            counter-increment: subitem;
            list-style: none;
            &:before{    content: counter(item) counter(subitem, lower-alpha) '.';}
        }
    }

    .panel-title a {
        display: table;
        padding: 0;
        vertical-align: middle;
        @include font-display(500);

    }
    .panel-title{
        a{
            color: $off-white;
            background-color: $scrub-teal-dark;
        }
         a:after {
               
                content: "\f078";
                transition: transform 0.25s ease-out;
                -moz-transition: transform 0.25s ease-out;
                -webkit-transition: transform 0.25s ease-out;
                background-color: $orange-dark;
                color: white;
                padding: 1rem;
                width:3em;
                text-align: center;
            }
         a:before {
            content: counter(item);
            @include font-display("regular");
            color:$off-white;
            font-size: ms(7);
            padding:  1rem 1rem;
            text-align: center;
            min-width:4rem;
        }
        span.text{
            padding:1rem 1rem 1rem 0;
        }
        a:before, a:after, span.text, {
            display: table-cell; vertical-align:middle;
        }
    }

    .panel-title a.collapsed{
        background-color:$off-white;
        color:$off-black;
        &:before, &:after{
            transform: rotate(0) !important;
            -moz-transform: rotate(0) !important;
            -webkit-transform: rotate(0) !important;
        }
         &:before {
            color:$scrub-teal-dark;
        }
        &:after {
            content: "\f054";
            background-color: $scrub-teal-dark;
            color: white;
        }
    }
    .panel-heading{
        border-bottom:0 solid $warm-grey;
    }
    .panel-heading,.panel-heading,.panel-heading {
        &:active,&:focus,&:hover{
            border-color:$orange-dark;
            .panel-title {
                a {
                    color: $off-white;
                    background-color: $scrub-teal-dark;
                }

                a:after {
                    background-color: $orange-dark;
                    color: white;
                }
                 a:before {
                    color: white;
                }
            }
        }
    }
    .panel-heading:hover .panel-title a:after {
        animation: btn-bounce .3s ease-in 2;
        -webkit-animation: btn-bounce .3s ease-in 2;
        -moz-animation: btn-bounce 0.3s ease-in 2;
    }

    .panel-body {
        @include lightgrey-gradient;
        border:1px solid $warm-grey-light;
        padding:2rem 1rem;
        line-height: $loose

    }
}
@keyframes btn-bounce {
    0% {padding-top: 19px;}
    25% {padding-top: 30px;}
    50% {padding-top: 19px;}
    75% {padding-top: 5px;}
    100% {padding-top: 19px;}
}